{"ast":null,"code":"import React,{useState,useEffect}from'react';import ChampionProfile from'../components/ChampionProfile';import FighterRow from'../components/FighterRow';import'./RankingsPage.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const RankingsPage=()=>{const[rankings,setRankings]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);useEffect(()=>{const fetchRankings=async()=>{try{setLoading(true);const response=await fetch('/api/rankings');if(!response.ok){throw new Error('Network response was not ok');}const data=await response.json();setRankings(data);}catch(error){setError(error.message);}finally{setLoading(false);}};fetchRankings();},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"rankings-page\",children:[/*#__PURE__*/_jsx(\"header\",{className:\"rankings-header\",children:/*#__PURE__*/_jsx(\"h1\",{children:\"UFC Rankings\"})}),/*#__PURE__*/_jsxs(\"main\",{className:\"rankings-container\",children:[loading&&/*#__PURE__*/_jsx(\"p\",{className:\"loading-message\",children:\"Loading rankings...\"}),error&&/*#__PURE__*/_jsxs(\"p\",{className:\"error-message\",children:[\"Error fetching rankings: \",error]}),!loading&&!error&&/*#__PURE__*/_jsx(\"div\",{className:\"rankings-grid\",children:rankings.map((category,index)=>{const isP4P=category.category.includes(\"Pound-for-Pound\");const champion=!isP4P?category.fighters.find(f=>f.rank===\"Champion\"):null;const rankers=!isP4P?category.fighters.filter(f=>f.rank!==\"Champion\"):category.fighters;return/*#__PURE__*/_jsxs(\"div\",{className:\"weight-class-section\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"weight-class-title\",children:category.category}),champion&&/*#__PURE__*/_jsx(ChampionProfile,{champion:champion}),/*#__PURE__*/_jsx(\"div\",{className:\"fighters-list\",children:rankers.map((fighter,fighterIndex)=>/*#__PURE__*/_jsx(FighterRow,{fighter:fighter},fighterIndex))})]},index);})})]})]});};export default RankingsPage;","map":{"version":3,"names":["React","useState","useEffect","ChampionProfile","FighterRow","jsx","_jsx","jsxs","_jsxs","RankingsPage","rankings","setRankings","loading","setLoading","error","setError","fetchRankings","response","fetch","ok","Error","data","json","message","className","children","map","category","index","isP4P","includes","champion","fighters","find","f","rank","rankers","filter","fighter","fighterIndex"],"sources":["C:/Users/Lee/OneDrive/바탕 화면/대학/3-2/나노랩 심화2 (백우진)/ufc insight/frontend/src/pages/RankingsPage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport ChampionProfile from '../components/ChampionProfile';\nimport FighterRow from '../components/FighterRow';\nimport './RankingsPage.css';\n\nconst RankingsPage = () => {\n  const [rankings, setRankings] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    const fetchRankings = async () => {\n      try {\n        setLoading(true);\n        const response = await fetch('/api/rankings');\n        if (!response.ok) {\n          throw new Error('Network response was not ok');\n        }\n        const data = await response.json();\n        setRankings(data);\n      } catch (error) {\n        setError(error.message);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchRankings();\n  }, []);\n\n  return (\n    <div className=\"rankings-page\">\n      <header className=\"rankings-header\">\n        <h1>UFC Rankings</h1>\n      </header>\n      <main className=\"rankings-container\">\n        {loading && <p className=\"loading-message\">Loading rankings...</p>}\n        {error && <p className=\"error-message\">Error fetching rankings: {error}</p>}\n        {!loading && !error && (\n          <div className=\"rankings-grid\">\n            {rankings.map((category, index) => {\n              const isP4P = category.category.includes(\"Pound-for-Pound\");\n              const champion = !isP4P ? category.fighters.find(f => f.rank === \"Champion\") : null;\n              const rankers = !isP4P ? category.fighters.filter(f => f.rank !== \"Champion\") : category.fighters;\n\n              return (\n                <div key={index} className=\"weight-class-section\">\n                  <h2 className=\"weight-class-title\">{category.category}</h2>\n                  {champion && <ChampionProfile champion={champion} />}\n                  <div className=\"fighters-list\">\n                    {rankers.map((fighter, fighterIndex) => (\n                      <FighterRow key={fighterIndex} fighter={fighter} />\n                    ))}\n                  </div>\n                </div>\n              );\n            })}\n          </div>\n        )}\n      </main>\n    </div>\n  );\n};\n\nexport default RankingsPage;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,CAAAC,eAAe,KAAM,+BAA+B,CAC3D,MAAO,CAAAC,UAAU,KAAM,0BAA0B,CACjD,MAAO,oBAAoB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE5B,KAAM,CAAAC,YAAY,CAAGA,CAAA,GAAM,CACzB,KAAM,CAACC,QAAQ,CAAEC,WAAW,CAAC,CAAGV,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAACW,OAAO,CAAEC,UAAU,CAAC,CAAGZ,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAACa,KAAK,CAAEC,QAAQ,CAAC,CAAGd,QAAQ,CAAC,IAAI,CAAC,CAExCC,SAAS,CAAC,IAAM,CACd,KAAM,CAAAc,aAAa,CAAG,KAAAA,CAAA,GAAY,CAChC,GAAI,CACFH,UAAU,CAAC,IAAI,CAAC,CAChB,KAAM,CAAAI,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAAC,eAAe,CAAC,CAC7C,GAAI,CAACD,QAAQ,CAACE,EAAE,CAAE,CAChB,KAAM,IAAI,CAAAC,KAAK,CAAC,6BAA6B,CAAC,CAChD,CACA,KAAM,CAAAC,IAAI,CAAG,KAAM,CAAAJ,QAAQ,CAACK,IAAI,CAAC,CAAC,CAClCX,WAAW,CAACU,IAAI,CAAC,CACnB,CAAE,MAAOP,KAAK,CAAE,CACdC,QAAQ,CAACD,KAAK,CAACS,OAAO,CAAC,CACzB,CAAC,OAAS,CACRV,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAEDG,aAAa,CAAC,CAAC,CACjB,CAAC,CAAE,EAAE,CAAC,CAEN,mBACER,KAAA,QAAKgB,SAAS,CAAC,eAAe,CAAAC,QAAA,eAC5BnB,IAAA,WAAQkB,SAAS,CAAC,iBAAiB,CAAAC,QAAA,cACjCnB,IAAA,OAAAmB,QAAA,CAAI,cAAY,CAAI,CAAC,CACf,CAAC,cACTjB,KAAA,SAAMgB,SAAS,CAAC,oBAAoB,CAAAC,QAAA,EACjCb,OAAO,eAAIN,IAAA,MAAGkB,SAAS,CAAC,iBAAiB,CAAAC,QAAA,CAAC,qBAAmB,CAAG,CAAC,CACjEX,KAAK,eAAIN,KAAA,MAAGgB,SAAS,CAAC,eAAe,CAAAC,QAAA,EAAC,2BAAyB,CAACX,KAAK,EAAI,CAAC,CAC1E,CAACF,OAAO,EAAI,CAACE,KAAK,eACjBR,IAAA,QAAKkB,SAAS,CAAC,eAAe,CAAAC,QAAA,CAC3Bf,QAAQ,CAACgB,GAAG,CAAC,CAACC,QAAQ,CAAEC,KAAK,GAAK,CACjC,KAAM,CAAAC,KAAK,CAAGF,QAAQ,CAACA,QAAQ,CAACG,QAAQ,CAAC,iBAAiB,CAAC,CAC3D,KAAM,CAAAC,QAAQ,CAAG,CAACF,KAAK,CAAGF,QAAQ,CAACK,QAAQ,CAACC,IAAI,CAACC,CAAC,EAAIA,CAAC,CAACC,IAAI,GAAK,UAAU,CAAC,CAAG,IAAI,CACnF,KAAM,CAAAC,OAAO,CAAG,CAACP,KAAK,CAAGF,QAAQ,CAACK,QAAQ,CAACK,MAAM,CAACH,CAAC,EAAIA,CAAC,CAACC,IAAI,GAAK,UAAU,CAAC,CAAGR,QAAQ,CAACK,QAAQ,CAEjG,mBACExB,KAAA,QAAiBgB,SAAS,CAAC,sBAAsB,CAAAC,QAAA,eAC/CnB,IAAA,OAAIkB,SAAS,CAAC,oBAAoB,CAAAC,QAAA,CAAEE,QAAQ,CAACA,QAAQ,CAAK,CAAC,CAC1DI,QAAQ,eAAIzB,IAAA,CAACH,eAAe,EAAC4B,QAAQ,CAAEA,QAAS,CAAE,CAAC,cACpDzB,IAAA,QAAKkB,SAAS,CAAC,eAAe,CAAAC,QAAA,CAC3BW,OAAO,CAACV,GAAG,CAAC,CAACY,OAAO,CAAEC,YAAY,gBACjCjC,IAAA,CAACF,UAAU,EAAoBkC,OAAO,CAAEA,OAAQ,EAA/BC,YAAiC,CACnD,CAAC,CACC,CAAC,GAPEX,KAQL,CAAC,CAEV,CAAC,CAAC,CACC,CACN,EACG,CAAC,EACJ,CAAC,CAEV,CAAC,CAED,cAAe,CAAAnB,YAAY","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}